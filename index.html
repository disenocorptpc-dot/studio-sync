<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diseño Industrial y 3D | Cola de Producción</title>
    
    <!-- Fonts: Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons: FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-theme">

    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="brand">
                <i class="fa-solid fa-cube fa-xl"></i>
                <span>Studio Sync</span>
            </div>
            
            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-view="production">
                    <i class="fa-solid fa-layer-group"></i>
                    <span>Producción</span>
                </a>
                <a href="#" class="nav-item" data-view="timeline">
                    <i class="fa-solid fa-timeline"></i>
                    <span>Cronograma</span>
                </a>
                <a href="#" class="nav-item" data-view="fabrication">
                    <i class="fa-solid fa-print"></i>
                    <span>Fabricación 3D</span>
                </a>
            </nav>

            <div class="user-profile">
                <div class="avatar-sm">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=random" alt="User">
                </div>
                <div class="user-info">
                    <span class="name">Admin</span>
                    <span class="role">Lead Designer</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <div class="page-title">
                    <h1>Diseño Industrial y 3D</h1>
                    <span class="subtitle">Cola de Producción | Estado Actual</span>
                </div>
                
                <div class="actions">
                    <button class="btn btn-primary" onclick="window.addNewCard()">
                        <i class="fa-solid fa-plus"></i>
                        Nuevo Diseñador
                    </button>
                    <button class="btn btn-secondary" onclick="window.toggleView()">
                        <i class="fa-solid fa-list"></i>
                    </button>
                    <div id="sync-status" class="sync-indicator">
                        <i class="fa-solid fa-cloud"></i>
                        <span class="status-text">Local</span>
                    </div>
                </div>
            </header>

            <!-- Grid Container -->
            <div id="designer-grid" class="designer-grid">
                <!-- Cards will be injected here via JS -->
            </div>
        </main>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h2>Actualizar Estado</h2>
                <button class="close-btn" onclick="window.closeModal()">&times;</button>
            </div>
            <form id="edit-form">
                <input type="hidden" id="edit-id">
                
                <div class="form-group">
                    <label>Diseñador</label>
                    <input type="text" id="edit-name" readonly class="readonly-input">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Proyecto Actual</label>
                        <input type="text" id="edit-project" required>
                    </div>
                    <div class="form-group">
                        <label>Fase</label>
                        <select id="edit-phase">
                            <option value="Bocetaje">Bocetaje</option>
                            <option value="Modelado 3D">Modelado 3D</option>
                            <option value="Renderizado">Renderizado</option>
                            <option value="Ingeniería">Ingeniería</option>
                            <option value="Planos">Planos</option>
                            <option value="Pausa">En Pausa</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Entrega (Deadline)</label>
                    <input type="date" id="edit-deadline" required>
                </div>

                <div class="form-group">
                    <label>Bitácora (Avance del día)</label>
                    <textarea id="edit-log" rows="3" placeholder="Detalles de progreso..."></textarea>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-danger" onclick="window.deleteCard()">Eliminar</button>
                    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Firebase SDK (Commented until needed, or we use dynamic import in app.js) -->
    <!-- <script type="module" src="firebase-config.js"></script> -->
    
    <script type="module" src="app.js"></script>
</body>
</html>
